<domain type="{{ item.value.type }}">
  <name>{{ item.key }}</name>
  <uuid>{{ item.key | to_uuid }}</uuid>
  <vcpu>{{ item.value.cpus }}</vcpu>
  <memory unit="bytes">{{ item.value.memory }}</memory>
  <os>
    <type arch="{{ item.value.architecture }}" machine="{{ item.value.chipset }}">hvm</type>
    <loader readonly="yes" type="pflash">/usr/share/OVMF/OVMF_CODE_4M.fd</loader>
  </os>
  <features>
    <acpi/>
  </features>
  <cpu mode="host-passthrough" />
  <devices>
    <emulator>/usr/bin/qemu-system-x86_64</emulator>
    <!-- https://github.com/jedi4ever/veewee/issues/996#issuecomment-497976612 -->
    <disk type="volume" device="disk">
      <source pool="disks" volume="{{ item.key }}.img" />
      <target dev="sda" bus="sata"/>
      <boot order="2" />
    </disk>
    <disk type="file" device="cdrom">
      <source file="/mnt/pool2/virtual/images/debian"/>
      <target dev="sdb" bus="sata"/>
      <!-- not necessary for cdrom? -->
      <readonly/>
      <boot order="1" />
    </disk>
    <interface type="network">
      <model type="virtio"/>
      <source network="default"/>
    </interface>
    <graphics type="spice" autoport="yes" />
    <video>
      <model type="virtio" />
    </video>
  </devices>
</domain>
